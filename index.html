<!DOCTYPE html>
<html>
<head>
    <title>Seu Site</title>
    <!-- Incluir o SDK do Pusher Beams -->
    <script src="https://js.pusher.com/beams/1.0/push-notifications-cdn.js"></script>
    <!-- Seu código JavaScript para redirecionamento, notificação e registro do navegador -->
    <script type="text/javascript">
        var userAgent = navigator.userAgent || navigator.vendor || window.opera;

        // Função para enviar uma notificação
        function enviarNotificacao(titulo, mensagem) {
            if (!("Notification" in window)) {
                console.log("Este navegador não suporta notificações.");
            } else if (Notification.permission === 'granted') {
                var notification = new Notification(titulo, {
                    body: mensagem
                });
            } else if (Notification.permission !== 'denied') {
                Notification.requestPermission().then(function (permission) {
                    if (permission === 'granted') {
                        var notification = new Notification(titulo, {
                            body: mensagem
                        });
                    }
                });
            }
        }

        // Função para redirecionar para a página do Notion
        function redirectToNotion() {
            window.location.href = "https://letrasuast.notion.site/Licenciatura-em-Letras-d2ca52cd440b47be969ed7b154bb6d92";
        }

        // Função para checar se há notificações pendentes
        function checarNotificacoes() {
            // Aqui você pode implementar lógica para verificar se há notificações pendentes no servidor ou em algum banco de dados
            // Se houver notificação, você pode chamar enviarNotificacao(titulo, mensagem) com os dados da notificação
            // Por exemplo:
            var titulo = "Nova Notificação";
            var mensagem = "Esta é uma nova notificação do site.";
            enviarNotificacao(titulo, mensagem);
        }

        // Função para registrar o navegador e assinar o Device Interest
        function registrarNavegador() {
            const beamsClient = new PusherPushNotifications.Client({
                instanceId: '22a92c74-08f7-44ac-bc3b-eca4e121b2a9',
            });

            beamsClient.start()
                .then(() => beamsClient.addDeviceInterest('hello'))
                .then(() => console.log('Successfully registered and subscribed!'))
                .catch(console.error);
        }

        // Verificar o tipo de dispositivo e solicitar permissão de notificação
        if (/android/i.test(userAgent)) {
            // Se for Android
            redirectToNotion();
        } else if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
            // Se for iPhone ou iPad
            redirectToNotion();
        } else {
            // Para outros dispositivos (Desktop, por exemplo)
            checarNotificacoes();
        }

        // Registrar o navegador e assinar o Device Interest
        registrarNavegador();
    </script>
</head>
<body>
    <!-- Conteúdo da página -->
    <h1>Meu site com Pusher Beams</h1>
    <!-- Outros elementos do corpo da página -->
</body>
</html>
